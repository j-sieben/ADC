var de=de||{};de.condes=de.condes||{},de.condes.plugin=de.condes.plugin||{},de.condes.plugin.adc=de.condes.plugin.adc||{},function(e,t){"use strict";const n="body",r="de.condes.plugin.adc.actions.js",a="ClassicReport",i="InteractiveReport",o="InteractiveGrid",s="Tree",c="data-item-for-region",l=".a-IRR-table tr:not(:first-child)",d=".t-fht-tbody .a-IRR-table tr",g=`${d}:nth-child(2)`,u="SHOW_ENABLE",f="click",h="keydown",p="apexafterrefresh",m="apexaftercanceldialog",b="apexafterclosedialog",x="ui-dialog",$=".ui-dialog-content";e.actions=e.actions||{};var v=e.actions,R=[];const I=function(e,n){t.isArray(e)||e.search(/[\.#\u0020:\[\]]+/)>=0||(e=`#${e}`),e.match(/oj.*/)&&(e=t(`#${e}`).closest("div.apex-item-group").attr("id")),t(e).each(n)},w=function(e){const n=t(`#${e}`),r=`#report_table_${e}`,c=`#${e}_ir`,l=`#${e}_ig`,d=`#${e}_tree`,g=`#SR_${e}`;var u;return n.find(l).length>0?u=o:n.find(c).length>0?u=i:n.find(r).length>0?u=a:n.find(d).length>0?u=s:n.parent(g).length>0&&(u="Tab"),u};v.alignReportVerticalTop=function(n){I(n,(function(){var n=t(this).attr("id");e.renderer.alignReportVerticalTop(n)}))},v.bindConfirmation=function(n,r,a,i){var o=t(`#${n}`);const s=a||e.controller.getStandardMessage("CSM_DIALOG_CONFIRM_TITLE");o.length>0&&e.controller.bindConfirmationHandler(o,r,s,i)},v.bindUnsavedWarning=function(n,r,a){var i=t(`#${n}`);i.length>0&&e.controller.bindUnsavedConfirmationHandler(i,r,a)},v.cancelModalDialog=function(t,n){const r=function(e){void 0!==e&&""!=e?parent.$("#"+e).trigger(m):""==e?(e=parent.$($).data(x).opener.attr("id"),parent.$($).data(x).opener.trigger(m)):(e=parent.triggeringElement.id,parent.$("#"+e).trigger(m)),apex.debug.info("cancelModalDialog - triggeringElement:"+e),apex.navigation.dialog.cancel(!0)};n&&e.controller.hasUnsavedChanges()?apex.message.confirm(e.controller.getStandardMessage("CSM_CANCEL_HAS_CHANGES"),(function(e){e&&r(t)})):r(t)},v.closeModalDialog=function(t,n,r){const a=function(e,t){void 0!==e&&""!=e?parent.$("#"+e).trigger(b):void 0===e||""==e?(e=parent.$($).data(x).opener.attr("id"),parent.$($).data(x).opener.trigger(b)):(e=parent.triggeringElement.id,parent.$("#"+e).trigger(b)),apex.debug.info("closeModalDialog - triggeringElement:"+e),apex.navigation.dialog.close(!0,t)};r&&!e.controller.hasUnsavedChanges()?apex.message.alert(e.controller.getStandardMessage("CSM_CLOSE_WO_CHANGES"),(function(e,t){a(e,t)})):a(t,n)},v.confirmCommand=function(t,n){e.renderer.confirmRequest(t,(function(){v.executeCommand(n)}))},v.confirmRequest=function(t,n){e.renderer.confirmRequest(t,n)},v.executeCommand=function(t){var n,r={};if("string"==typeof t?n={command:t,additionalPageItems:[],monitorChanges:!1}:((n=t).additionalPageItems=n.additionalPageItems||[],n.monitorChanges=n.monitorChanges||!1),e.controller.setTriggeringElement("COMMAND","command",n),t.monitorChanges&&e.controller.hasUnsavedChanges()){var a=e.controller.getPageState();r.data=t,r.data.message=a.message,r.data.title=a.title,e.renderer.confirmRequest(r,e.controller.execute)}else e.controller.execute()},v.focus=function(e){t(`#${e}`).focus()},v.getReportSelection=function(n,u,m,b){const x=t(`#${n}`),$=w(n);let R,I;switch(u?(R=function(e){apex.item(u).setValue(e)},t(`#${u}`).attr(c,n),e.controller.bindObserverItems(u)):R=function(t){t&&(e.controller.setTriggeringElement(n,"adcselectionchange",t),e.controller.execute())},$){case a:x.on(f,".t-Report-report tbody tr",(function(){I=t(this).find("td [data-id]").data("id"),e.renderer.highlightRow(t(this),b),R(I)}));break;case o:x.on("interactivegridselectionchange",(function(e,t){t.selectedRecords.length&&(I=m?t.selectedRecords[0][Math.max(m-1,0)]:t.model.getRecordId(t.selectedRecords[0]),R(I))}));break;case i:x.on(f,l,(function(){I=t(this).find("td [data-id]").data("id"),v.selectEntry(n,I,!0,!1),R(I)})).on("dblclick",l,(function(e){t(this).find("a")[0].click()})).on(h,d,(function(e){if(9===e.which&&!1===e.shiftKey){if(t(this).next().click(),!t(this).is(":last-child"))return!1;apex.debug.info(`${r} - tab key from last row leaves IR`)}else if(9===e.which&&!0===e.shiftKey){if(t(this).prev().click(),!t(this).is(":nth-child(2)"))return!1;apex.debug.info(`${r} - tab key backwards from first row leaves IR`)}})).on(h,".t-fht-thead .a-IRR-table th.a-IRR-header a:last",(function(e){if(apex.debug.info(`${r} - tab key from last header row enters IR`),9===e.which&&!1===e.shiftKey)return t(g).click(),!1})).on(p,(function(e){apex.debug.log(`${r} - apexafterrefresh detected`),u&&apex.item(u).setValue(),v.selectEntry(n,"",b,!1)}));break;case s:let c=t(`#${n}_tree`);c.on("treeviewselectionchange",(function(){let e,t;e=c.treeView("getSelectedNodes"),t=e.map((function(e){return e.id})).join(":"),R(t)}))}v.selectEntry(n,"",b,!0)},v.hideReportFilterPanel=function(n){I(n,(function(){var n=t(this).attr("id");e.renderer.hideReportFilterPanel(n,w(n))}))},v.notify=function(t,n,r,a){let i;if(r)i=r;else switch(t){case"INFO":i=e.controller.getStandardMessage("CSM_DIALOG_INFO_TITLE");break;case"WARNING":i=e.controller.getStandardMessage("CSM_DIALOG_WARNING_TITLE")}e.renderer.showDialog(t,n,i,a)},v.clearErrors=function(){e.renderer.showErrors([])},v.showSuccess=function(t){e.renderer.showSuccess(t)},v.hideMessage=function(t){switch(t){case"success":e.renderer.clearNotification();break;case"error":e.renderer.clearErrors();break;case"both":e.renderer.clearNotification(),e.renderer.clearErrors()}},v.registerPageItemsOnce=function(t){e.controller.setAdditionalItems(t)},v.rememberPageItemStatus=function(n,r,a){var i,o,s;(s=e.controller.getPageState()).itemMap.clear(),s.message=r,s.title=a,i=t(":input:visible:not(button)"),Array.isArray(n)&&n.count>0&&(i=n),t.each(i,(function(e){(e=i[e]).id&&(e=e.id),o=apex.item(e).getValue(),s.itemMap.set(e,o),apex.debug.info(`Saving ${e} with value ${o}`)})),e.controller.setPageState(s)},v.refresh=function(n,r,a){t(`div#${n}.js-apex-region`).length>0?(n&&t(`#${n}`).one(p,(function(e){v.selectEntry(n,r,a)})),apex.region(n).refresh()):(e.controller.pauseChangeEventDuringRefresh(n,r),apex.item(n).show(),apex.item(n).enable(),apex.item(n).refresh())},v.refreshAndSetValue=function(t,n){var r=n||apex.item(t).getValue()||e.controller.findItemValue(t);e.controller.pauseChangeEventDuringRefresh(t,r),apex.item(t).show(),apex.item(t).enable(),apex.item(t).refresh()},v.selectEntry=function(n,r,l,d){let g,u;const f=`#report_table_${n}`,h=`#${n}_ir`,p=`#${n}_ig`,m=`#${n}_tree`,b=t(`input[${c}=${n}]`);r||b.length>0&&(r=apex.item(b.attr("id")).getValue());const x=` span[data-id='${r}']`;switch(w(n)){case a:u=r?t(f+x).parent("td").parent("tr"):t(f+" > tbody > tr:nth-child(1)"),e.renderer.highlightRow(u,l);break;case o:g=t(p),r||(r=g.find("tbody tr").data("id")),r&&(u=g.interactiveGrid("getViews","grid").model.getRecord(r),u&&g.interactiveGrid("setSelectedRecords",u,l,d));break;case i:r&&(u=t(h+x).parent("td").parent("tr")),""!=r&&0!=u.length||(u=t(h+" .a-IRR-table tbody tr:nth-child(2)"),b.length>0&&(r=u.find("[data-id]").data("id"))),apex.item(b.attr("id")).setValue(r),e.renderer.highlightRow(u,l);break;case s:g=t(m),u=g.treeView("find",{depth:-1,match:function(e){return e.id===r}}),g.treeView("collapseAll"),g.treeView("expand",u),g.treeView("setSelection",u,l,d)}},v.setApexActionAccessKey=function(e){const n="t-Button-label";var r,a,i=a.find(`.${n}`),o=i.html(),s=r.exec(o),c=t(`[data-action='${e}']`),l=apex.actions.lookup(e).shortcut;""!==l&&(l=l.slice(-1)),l.length>0&&(r=new RegExp(l,"i"),c.each((function(){(a=t(this)).find(`.${n}`)[0]||a.html(`<span class='${n}'>${a.html()}>span>`),i.html(o.replace(r,`<span class='accesskey'>${s}>span>`)),a.attr("accesskey",s),a.attr("data-accesskey",o.search(r))})))},v.setDisplayState=function(r,a,i){I(r,(function(){var r=t(this).attr("id");switch(a){case"HIDE":apex.item(r).hide();break;case"SHOW_DISABLE":apex.item(r).show(),e.renderer.disableElement(r),t(n).clearQueue();break;case u:apex.item(r).show(),e.renderer.enableElement(r);break;default:apex.debug.info(`Visual State ${a} not supported`)}i&&e.renderer.setItemLabel(r,i)}))},v.setErrors=function(r){if(r){r.errors.length>0&&t(n).clearQueue(),t.each(r.firingItems,(function(e,n){R=t.grep(R,(function(e){return e.pageItem!=n&&"DOCUMENT"!=e.pageItem}))}));for(let e=0;e<r.errors.length;e++){const t=r.errors[e];R.push(t)}}else R=[];e.renderer.showErrors(R)},v.setFocus=function(e){e&&(t(`div#${e}.js-apex-region`).length>0?v.selectEntry(e,null,!0,!0):t(`#${e}`).focus())},v.setItemValue=function(e,n){I(e,(function(){var e=t(this).attr("id");apex.item(e).setValue(n,n,!0)}))},v.setItemValues=function(n){e.controller.setLastItemValues(n),t.each(n,(function(){(this.value||"FOO")!==(apex.item(this.id).getValue()||"FOO")&&(apex.item(this.id).setValue(this.value,this.value,!0),apex.debug.info(`Item '${this.id}' set to '${this.value}'`))}))},v.setMandatory=function(n,r,a){I(n,(function(){var i=t(this).attr("id").replace("_CONTAINER","");r?(e.controller.pushPageItem(i),v.setDisplayState(n,u)):v.setDisplayState(n,a),e.renderer.setItemMandatory(i,r)}))},v.setModalDialogTitle=function(t){e.renderer.setModalDialogTitle(t)},v.setRegionContent=function(t,n){e.renderer.setRegionContent(t,n)},v.setRegionHeader=function(t,n){e.renderer.setRegionHeader(t,n,w(t))},v.selectTab=function(e,t){apex.region(e).widget().aTabs("getTabs")[`#${t}`].makeActive()},v.showWaitSpinner=function(t){e.renderer.showWaitSpinner(t)},v.submit=function(t,n){e.renderer.submitPage(t,n)}}(de.condes.plugin.adc,apex.jQuery);