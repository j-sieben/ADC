<!DOCTYPE html>

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>ADC_PARAMETER</title><link rel="stylesheet" type="text/css" href="../../styles/main.css" /><script type="text/javascript" src="../../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.2 -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');" class="NDPage NDContentPage">

<a name="Topic585"></a><div class="CTopic TClass LSQL first">
 <div class="CTitle">ADC_PARAMETER</div>
 <div class="CBody"><p>Package to handle parameter values. There are two main tasks to perform:</p><ul><li><p>Validate any parameter upon creation or change of the rule action</p></li><li><p>Evaluate the parameter value upon execution</p></li></ul><div class="CHeading">Author</div><p>Juergen Sieben, ConDeS GmbH</p></div>
</div>

<a name="Public_methods"></a><a name="Topic586"></a><div class="CTopic TGroup LSQL">
 <div class="CTitle">Public methods</div>
</div>

<a name="validate_param_lov"></a><a name="Topic587"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">validate_param_lov</div>
 <div id="NDPrototype587" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> validate_param_lov(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_capt_id&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> adc_action_param_types.capt_id<span class="SHKeyword">%type</span>,</td></tr><tr><td class="PName first">p_capt_capvt_id&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> adc_action_param_types.capt_capvt_id<span class="SHKeyword">%type</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Method checks that a LOV view exists.</p><p>For an action parameter of type SELECT_LIST, a LOV view is required to calculate the actual display and return values. It must also provide a column with the CRG_ID the values relate to to allow for filtering.&nbsp; This method checks that a LOV view with the correct column structure that is able to deliver LOV data exists.</p><p>This view must adhere to the naming convention ADC_PARAM_LOV_&lt;PARAMETER_TYPE&gt;</p><div class="CHeading">Example</div><p>For a parameter called PAGE_ITEM with parameter type SELECT_LIST, a view called ADC_PARAM_LOV_PAGE_ITEM must exist with a D, R and CRG_ID column.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_capt_id<div class="CDLParameterType"><span class="SHKeyword">in</span> adc_action_param_types.capt_id<span class="SHKeyword">%type</span></div></td><td class="CDLDefinition"><p>Parameter Type</p></td></tr><tr><td class="CDLEntry">p_capt_capvt_id<div class="CDLParameterType"><span class="SHKeyword">in</span> adc_action_param_types.capt_capvt_id<span class="SHKeyword">%type</span></div></td><td class="CDLDefinition"><p>Item type</p></td></tr></table><div class="CHeading">Errors</div><table class="CDefinitionList"><tr><td class="CDLEntry">msg.ADC_PARAM_LOV_MISSING</td><td class="CDLDefinition"><p>if LOV view is required but missing</p></td></tr><tr><td class="CDLEntry">msg.ADC_PARAM_LOV_INCORRECT</td><td class="CDLDefinition"><p>if required LOV view exists but with the wrong structure</p></td></tr></table></div>
</div>

<a name="validate_parameter"></a><a name="Topic588"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">validate_parameter</div>
 <div id="NDPrototype588" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> validate_parameter(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_value&nbsp;</td><td class="PType last"><span class="SHKeyword">in out nocopy</span> adc_rule_actions.cra_param_<span class="SHNumber">1</span><span class="SHKeyword">%type</span>,</td></tr><tr><td class="PName first">p_capt_id&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> adc_action_param_types.capt_id<span class="SHKeyword">%type</span>,</td></tr><tr><td class="PName first">p_cpi_id&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> adc_page_items.cpi_id<span class="SHKeyword">%type</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Method to check an entered parameter value against meta data and format it in order to directly use it in rule actions.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_value<div class="CDLParameterType"><span class="SHKeyword">in out nocopy</span> adc_rule_actions.cra_param_<span class="SHNumber">1</span><span class="SHKeyword">%type</span></div></td><td class="CDLDefinition"><p>Parameter value to check and format</p></td></tr><tr><td class="CDLEntry">p_capt_id<div class="CDLParameterType"><span class="SHKeyword">in</span> adc_action_param_types.capt_id<span class="SHKeyword">%type</span></div></td><td class="CDLDefinition"><p>Parameter Type</p></td></tr><tr><td class="CDLEntry">p_cpi_id<div class="CDLParameterType"><span class="SHKeyword">in</span> adc_page_items.cpi_id<span class="SHKeyword">%type</span></div></td><td class="CDLDefinition"><p>UI element to attach the error to</p></td></tr></table></div>
</div>

<a name="get_param_lov_query"></a><a name="Topic25"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">get_param_lov_query</div>
 <div id="NDPrototype25" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">function</span> get_param_lov_query(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_row&nbsp;</td><td class="PType last"><span class="SHKeyword">in out nocopy</span> adc_action_param_types_v<span class="SHKeyword">%rowtype</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div><div class="PSection PPlainSection"><span class="SHKeyword">return</span> <span class="SHKeyword">varchar2</span></div></div>
 <div class="CBody"><p>Method to caculate a query for a parameter in case its type mandates for a LOV.</p><p>Is called when creating a new parameter type from within the ADC app as well as when exporting. The statement must be present in the export file to circumvent the necessity of having a direct CREATE VIEW grant for any user working with ADC.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_row<div class="CDLParameterType"><span class="SHKeyword">in out nocopy</span> adc_action_param_types_v<span class="SHKeyword">%rowtype</span></div></td><td class="CDLDefinition"><p>Instance of &lt;ADC_ACTION_PARAM_TYPES_V&gt;</p></td></tr></table><div class="CHeading">Returns</div><p>A create view statement, if the parameter type includes a LOV and NULL otherwise</p></div>
</div>

<a name="get_param_lov_comment"></a><a name="Topic26"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">get_param_lov_comment</div>
 <div id="NDPrototype26" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">function</span> get_param_lov_comment(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_row&nbsp;</td><td class="PType last"><span class="SHKeyword">in out nocopy</span> adc_action_param_types_v<span class="SHKeyword">%rowtype</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div><div class="PSection PPlainSection"><span class="SHKeyword">return</span> <span class="SHKeyword">varchar2</span></div></div>
 <div class="CBody"><p>Method to caculate a query for a parameter in case its type mandates for a LOV.</p><p>Is called when creating a new parameter type from within the ADC app as well as when exporting. The statement must be present in the export file to circumvent the necessity of having a direct CREATE VIEW grant for any user working with ADC.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_row<div class="CDLParameterType"><span class="SHKeyword">in out nocopy</span> adc_action_param_types_v<span class="SHKeyword">%rowtype</span></div></td><td class="CDLDefinition"><p>Instance of &lt;ADC_ACTION_PARAM_TYPES_V&gt;</p></td></tr></table><div class="CHeading">Returns</div><p>A create view comment statement, if the parameter type includes a LOV and NULL otherwise</p></div>
</div>

<a name="analyze_selector_parameter"></a><a name="Topic590"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">analyze_selector_parameter</div>
 <div id="NDPrototype590" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">function</span> analyze_selector_parameter(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_cpi_id&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> adc_page_items.cpi_id<span class="SHKeyword">%type</span>,</td></tr><tr><td class="PName first">p_param&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> adc_rule_actions.cra_param_<span class="SHNumber">2</span><span class="SHKeyword">%type</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div><div class="PSection PPlainSection"><span class="SHKeyword">return</span> <span class="SHKeyword">varchar2</span></div></div>
 <div class="CBody"><p>Helper to analyze a rule action parameter.</p><p>The following syntactical possibilities exist:</p><ul><li><p>jQuery CSS selector</p></li><li><p>jQuery ID selector</p></li><li><p>static string, encapsulated in single quotes</p></li><li><p>PL/SQL-Block without single quotes, with or without terminating semicolon</p></li></ul><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_cpi_id<div class="CDLParameterType"><span class="SHKeyword">in</span> adc_page_items.cpi_id<span class="SHKeyword">%type</span></div></td><td class="CDLDefinition"><p>Name of the referenced item or <a href="../../index.html#SQLClass:ADC_UTIL:C_NO_FIRING_ITEM" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,606);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >ADC_UTIL.C_NO_FIRING_ITEM</a></p></td></tr><tr><td class="CDLEntry">p_param<div class="CDLParameterType"><span class="SHKeyword">in</span> adc_rule_actions.cra_param_<span class="SHNumber">2</span><span class="SHKeyword">%type</span></div></td><td class="CDLDefinition"><p>Attribute value to analyze</p></td></tr></table><div class="CHeading">Returns</div><p>Result of the analysis, either static or dynamic.</p></div>
</div>

<a name="evaluate_parameter"></a><a name="Topic591"></a><div class="CTopic TFunction LSQL last">
 <div class="CTitle">evaluate_parameter</div>
 <div id="NDPrototype591" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">function</span> evaluate_parameter(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_capt_id&nbsp;</td><td class="PType last">adc_action_param_types.capt_id<span class="SHKeyword">%type</span>,</td></tr><tr><td class="PName first">p_param_value&nbsp;</td><td class="PType last">adc_rule_actions.cra_param_<span class="SHNumber">1</span><span class="SHKeyword">%type</span>,</td></tr><tr><td class="PName first">p_crg_id&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> adc_rule_groups.crg_id<span class="SHKeyword">%type</span>,</td></tr><tr><td class="PName first">p_cpi_id&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> adc_page_items.cpi_id<span class="SHKeyword">%type</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div><div class="PSection PPlainSection"><span class="SHKeyword">return</span> <span class="SHKeyword">varchar2</span></div></div>
 <div class="CBody"><p>Method to evaluate a parameter value based on its type and value. This method is called when the rule is executed to replace parameter values with calculated values such as the result of function calls or PIT messages.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_capt_id<div class="CDLParameterType">adc_action_param_types.capt_id<span class="SHKeyword">%type</span></div></td><td class="CDLDefinition"><p>Type of the parameter</p></td></tr><tr><td class="CDLEntry">p_param_value<div class="CDLParameterType">adc_rule_actions.cra_param_<span class="SHNumber">1</span><span class="SHKeyword">%type</span></div></td><td class="CDLDefinition"><p>Actual parameter value</p></td></tr></table><div class="CHeading">Returns</div><p>Evaluated parameter value.</p></div>
</div>

</body></html>