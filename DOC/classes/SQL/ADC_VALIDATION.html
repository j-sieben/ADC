<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>ADC_VALIDATION</title><link rel="stylesheet" type="text/css" href="../../styles/main.css" /><script type="text/javascript" src="../../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.1.1 -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');" class="NDPage NDContentPage">

<a name="Topic80"></a><div class="CTopic TClass LSQL first">
 <div class="CTitle">ADC_VALIDATION</div>
 <div class="CBody"><p>Implements validation functionality for the internal meta data adminsitration.</p><div class="CHeading">Author</div><p>Juergen Sieben, ConDeS GmbH</p></div>
</div>

<a name="Functions"></a><a name="Topic187"></a><div class="CTopic TGroup LSQL">
 <div class="CTitle">Functions</div>
</div>

<a name="validate_param_lov"></a><a name="Topic192"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">validate_param_lov</div>
 <div id="NDPrototype192" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> validate_param_lov(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_cpt_id&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> adc_action_param_types.cpt_id<span class="SHKeyword">%type</span>,</td></tr><tr><td class="PName first">p_cpt_item_type&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> adc_action_param_types.cpt_item_type<span class="SHKeyword">%type</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Method checks that a LOV view exists.</p><p>For a action parameter of type SELECT_LIST, a LOV view is required to calculate the actual display and return values. It must also provide a column with the CGR_ID the values relate to to allow for filtering.&nbsp; This method checks that a LOV view with the correct column structure that is able to deliver LOV data exists.</p><p>This view must adhere to the naming convention ADC_PARAM_LOV_&lt;PARAMETER_TYPE&gt;</p><div class="CHeading">Example</div><p>For a parameter called PAGE_ITEM with parameter type SELECT_LIST, a view called ADC_PARAM_LOV_PAGE_ITEM must exist with a D, R and CGR_ID column.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_cpt_id<div class="CDLParameterType"><span class="SHKeyword">in</span> adc_action_param_types.cpt_id<span class="SHKeyword">%type</span></div></td><td class="CDLDefinition"><p>Parameter Type</p></td></tr><tr><td class="CDLEntry">p_cpt_item_type<div class="CDLParameterType"><span class="SHKeyword">in</span> adc_action_param_types.cpt_item_type<span class="SHKeyword">%type</span></div></td><td class="CDLDefinition"><p>Item type</p></td></tr></table><div class="CHeading">Errors</div><table class="CDefinitionList"><tr><td class="CDLEntry">msg.ADC_PARAM_LOV_MISSING</td><td class="CDLDefinition"><p>if LOV view is required but missing</p></td></tr><tr><td class="CDLEntry">msg.ADC_PARAM_LOV_INCORRECT</td><td class="CDLDefinition"><p>if required LOV view exists but with the wrong structure</p></td></tr></table></div>
</div>

<a name="get_lov_sql"></a><a name="Topic193"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">get_lov_sql</div>
 <div id="NDPrototype193" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">function</span> get_lov_sql(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_cpt_id&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> adc_action_param_types.cpt_id<span class="SHKeyword">%type</span>,</td></tr><tr><td class="PName first">p_cgr_id&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> adc_rule_groups.cgr_id<span class="SHKeyword">%type</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div><div class="PSection PPlainSection"><span class="SHKeyword">return</span> <span class="SHKeyword">varchar2</span></div></div>
 <div class="CBody"><p>Method to calculate the SQL statement for a parameter type.</p><p>This method is called from ADC_UI to populate a LOV item for a parameter.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_cpt_id<div class="CDLParameterType"><span class="SHKeyword">in</span> adc_action_param_types.cpt_id<span class="SHKeyword">%type</span></div></td><td class="CDLDefinition"><p>Parameter Type</p></td></tr><tr><td class="CDLEntry">p_cgr_id<div class="CDLParameterType"><span class="SHKeyword">in</span> adc_rule_groups.cgr_id<span class="SHKeyword">%type</span></div></td><td class="CDLDefinition"><p>ID of the rule group to filter the LOV data if required.</p></td></tr></table></div>
</div>

<a name="validate_parameter"></a><a name="Topic204"></a><div class="CTopic TFunction LSQL last">
 <div class="CTitle">validate_parameter</div>
 <div id="NDPrototype204" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> validate_parameter(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_value&nbsp;</td><td class="PType last"><span class="SHKeyword">in out nocopy</span> adc_rule_actions.cra_param_<span class="SHNumber">1</span><span class="SHKeyword">%type</span>,</td></tr><tr><td class="PName first">p_cpt_id&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> adc_action_param_types.cpt_id<span class="SHKeyword">%type</span>,</td></tr><tr><td class="PName first">p_cpi_id&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> adc_page_items.cpi_id<span class="SHKeyword">%type</span>,</td></tr><tr><td class="PName first">p_environment&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> adc_util.environment_rec</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Method to check an entered parameter value against meta data and format it in order to directly use it in rule actions.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_value<div class="CDLParameterType"><span class="SHKeyword">in out nocopy</span> adc_rule_actions.cra_param_<span class="SHNumber">1</span><span class="SHKeyword">%type</span></div></td><td class="CDLDefinition"><p>Parameter value to check and format</p></td></tr><tr><td class="CDLEntry">p_cpt_id<div class="CDLParameterType"><span class="SHKeyword">in</span> adc_action_param_types.cpt_id<span class="SHKeyword">%type</span></div></td><td class="CDLDefinition"><p>Parameter Type</p></td></tr><tr><td class="CDLEntry">p_cpi_id<div class="CDLParameterType"><span class="SHKeyword">in</span> adc_page_items.cpi_id<span class="SHKeyword">%type</span></div></td><td class="CDLDefinition"><p>UI element to attach the error to</p></td></tr><tr><td class="CDLEntry">p_environment<div class="CDLParameterType"><span class="SHKeyword">in</span> adc_util.environment_rec</div></td><td class="CDLDefinition"><p>Record with environmental data such as CGR_ID</p></td></tr></table></div>
</div>

</body></html>