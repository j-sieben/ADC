<!DOCTYPE html>

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>ADC_RECURSION_STACK Body</title><link rel="stylesheet" type="text/css" href="../../styles/main.css" /><script type="text/javascript" src="../../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.2 -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');" class="NDPage NDContentPage">

<a name="Topic300"></a><div class="CTopic TClass LSQL first">
 <div class="CTitle">ADC_RECURSION_STACK Body</div>
 <div class="CBody"><p>Implements the ADC_RECURSION_STACK logic.</p><div class="CHeading">Author</div><p>Juergen Sieben, ConDeS GmbH</p></div>
</div>

<a name="Private_types"></a><a name="Topic301"></a><div class="CTopic TGroup LSQL">
 <div class="CTitle">Private types</div>
</div>

<a name="recursive_stack_t"></a><a name="Topic302"></a><div class="CTopic TType LSQL">
 <div class="CTitle">recursive_stack_t</div>
 <div class="CBody"><p>Table of recursion levels indexed by page item IDs.</p><p>This stack persists all page items for which rules have to be evaluated along with their recursive depth.</p></div>
</div>

<a name="recursion_rec"></a><a name="Topic303"></a><div class="CTopic TType LSQL">
 <div class="CTitle">recursion_rec</div>
 <div class="CBody"><p>Record to hold all necessary informations about recursive items</p><div class="CHeading">Properties</div><table class="CDefinitionList"><tr><td class="CDLEntry">item_stack recursive_stack_t</td><td class="CDLDefinition"><p>List of items which were marked to recursively check rules for</p></td></tr><tr><td class="CDLEntry">firing_items char_table</td><td class="CDLDefinition"><p>List of all &quot;touched&quot; page items. Used to monitor double recursion and to provide a list of all items for which existing error messages have to be removed</p></td></tr><tr><td class="CDLEntry">is_recursive adc_util.flag_type</td><td class="CDLDefinition"><p>Flag to indicate whether we're in a recursive rule run</p></td></tr><tr><td class="CDLEntry">allow_recursion adc_util.flag_type</td><td class="CDLDefinition"><p>Flag to indicate whether recursive calls are allowed for the active rule,</p></td></tr><tr><td class="CDLEntry">recursion_limit pls_integer</td><td class="CDLDefinition"><p>Parameter to control max recursion depth</p></td></tr><tr><td class="CDLEntry">loop_is_error boolean</td><td class="CDLDefinition"><p>Parameter to control whether a loop in recursion has to be treated as an error</p></td></tr></table></div>
</div>

<a name="Private_methods"></a><a name="Topic305"></a><div class="CTopic TGroup LSQL">
 <div class="CTitle">Private methods</div>
</div>

<a name="stack_is_not_empty"></a><a name="Topic306"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">stack_is_not_empty</div>
 <div id="NDPrototype306" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">function</span> stack_is_not_empty</div><div class="PSection PPlainSection"><span class="SHKeyword">return</span> <span class="SHKeyword">boolean</span></div></div>
 <div class="CBody"><p>Method checks whether recursion stack contains entries.</p></div>
</div>

<a name="get_first_item"></a><a name="Topic307"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">get_first_item</div>
 <div id="NDPrototype307" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">function</span> get_first_item</div><div class="PSection PPlainSection"><span class="SHKeyword">return</span> recursive_entry_t</div></div>
 <div class="CBody"><p>Method retrieves the first item on the stack.</p></div>
</div>

<a name="initialize"></a><a name="Topic308"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">initialize</div>
 <div id="NDPrototype308" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">procedure</span> initialize</div></div>
 <div class="CBody"><p>Package initialization method</p></div>
</div>

<a name="Public_methods"></a><a name="Topic309"></a><div class="CTopic TGroup LSQL">
 <div class="CTitle">Public methods</div>
</div>

<a name="reset"></a><a name="Topic310"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">reset</div>
 <div id="NDPrototype310" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> reset(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_crg_id&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> adc_rule_groups.crg_id<span class="SHKeyword">%type</span>,</td></tr><tr><td class="PName first">p_cpi_id&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> adc_page_items.cpi_id<span class="SHKeyword">%type</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>See <a href="../../index.html#SQLClass:ADC_RECURSION_STACK:reset" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,679);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >ADC_RECURSION_STACK.reset</a></p></div>
</div>

<a name="push_firing_item"></a><a name="Topic311"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">push_firing_item</div>
 <div id="NDPrototype311" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> push_firing_item(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_crg_id&nbsp;</td><td class="PType"><span class="SHKeyword">in</span> adc_rule_groups.crg_id<span class="SHKeyword">%type</span>,</td><td></td><td class="last"></td></tr><tr><td class="PName first">p_cpi_id&nbsp;</td><td class="PType"><span class="SHKeyword">in</span> adc_page_items.cpi_id<span class="SHKeyword">%type</span>,</td><td></td><td class="last"></td></tr><tr><td class="PName first">p_event&nbsp;</td><td class="PType"><span class="SHKeyword">in</span> adc_page_item_types.cpit_cet_id<span class="SHKeyword">%type</span>,</td><td></td><td class="last"></td></tr><tr><td class="PName first">p_event_data&nbsp;</td><td class="PType"><span class="SHKeyword">in</span> <a href="../../index.html#SQLClass:ADC_UTIL:max_char" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,597);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >adc_util.max_char</a></td><td class="PDefaultValueSeparator">&nbsp;<span class="SHKeyword">default</span>&nbsp;</td><td class="PDefaultValue last"><span class="SHKeyword">null</span>,</td></tr><tr><td class="PName first">p_allow_recursion&nbsp;</td><td class="PType"><span class="SHKeyword">in</span> <a href="../../index.html#SQLClass:ADC_UTIL:flag_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,598);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >adc_util.flag_type</a></td><td class="PDefaultValueSeparator">&nbsp;<span class="SHKeyword">default</span>&nbsp;</td><td class="PDefaultValue last">adc_util.C_TRUE,</td></tr><tr><td class="PName first">p_force&nbsp;</td><td class="PType"><span class="SHKeyword">in</span> <a href="../../index.html#SQLClass:ADC_UTIL:flag_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,598);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >adc_util.flag_type</a></td><td class="PDefaultValueSeparator">&nbsp;<span class="SHKeyword">default</span>&nbsp;</td><td class="PDefaultValue last">adc_util.C_FALSE</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>See <a href="../../index.html#SQLClass:ADC_RECURSION_STACK:push_firing_item" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,680);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >ADC_RECURSION_STACK.push_firing_item</a></p></div>
</div>

<a name="pop_firing_item"></a><a name="Topic312"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">pop_firing_item</div>
 <div id="NDPrototype312" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> pop_firing_item(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_cpi_id&nbsp;</td><td class="PType"><span class="SHKeyword">in</span> adc_page_items.cpi_id<span class="SHKeyword">%type</span>,</td><td></td><td class="last"></td></tr><tr><td class="PName first">p_all&nbsp;</td><td class="PType"><span class="SHKeyword">in</span> <a href="../../index.html#SQLClass:ADC_UTIL:flag_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,598);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >adc_util.flag_type</a></td><td class="PDefaultValueSeparator">&nbsp;<span class="SHKeyword">default</span>&nbsp;</td><td class="PDefaultValue last">adc_util.C_FALSE</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>See <a href="../../index.html#SQLClass:ADC_RECURSION_STACK:pop_firing_item" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,682);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >ADC_RECURSION_STACK.pop_firing_item</a></p></div>
</div>

<a name="check_recursion"></a><a name="Topic313"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">check_recursion</div>
 <div id="NDPrototype313" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">function</span> check_recursion(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_cra_cpi_id&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> adc_rule_actions.cra_cpi_id<span class="SHKeyword">%type</span>,</td></tr><tr><td class="PName first">p_cru_fire_on_page_load&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> adc_rules.cru_fire_on_page_load<span class="SHKeyword">%type</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div><div class="PSection PPlainSection"><span class="SHKeyword">return</span> <a href="../../index.html#SQLClass:ADC_UTIL:flag_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,598);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >adc_util.flag_type</a></div></div>
 <div class="CBody"><p>See <a href="../../index.html#SQLClass:ADC_RECURSION_STACK:check_recursion" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,683);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >adc_recursion_stack.check_recursion</a></p></div>
</div>

<a name="get_next"></a><a name="Topic314"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">get_next</div>
 <div id="NDPrototype314" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> get_next(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_cpi_id&nbsp;</td><td class="PType last"><span class="SHKeyword">out nocopy</span> adc_page_items.cpi_id<span class="SHKeyword">%type</span>,</td></tr><tr><td class="PName first">p_event&nbsp;</td><td class="PType last"><span class="SHKeyword">out nocopy</span> adc_page_item_types.cpit_cet_id<span class="SHKeyword">%type</span>,</td></tr><tr><td class="PName first">p_event_data&nbsp;</td><td class="PType last"><span class="SHKeyword">out nocopy</span> <span class="SHKeyword">varchar2</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>See <a href="../../index.html#SQLClass:ADC_RECURSION_STACK:get_next" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,684);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >ADC_RECURSION_STACK.get_next</a></p></div>
</div>

<a name="get_level"></a><a name="Topic315"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">get_level</div>
 <div id="NDPrototype315" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">function</span> get_level</div><div class="PSection PPlainSection"><span class="SHKeyword">return</span> pls_integer</div></div>
 <div class="CBody"><p>See <a href="../../index.html#SQLClass:ADC_RECURSION_STACK:get_level" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,685);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >ADC_RECURSION_STACK.get_level</a></p></div>
</div>

<a name="get_firing_items_as_json"></a><a name="Topic316"></a><div class="CTopic TFunction LSQL last">
 <div class="CTitle">get_firing_items_as_json</div>
 <div id="NDPrototype316" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">function</span> get_firing_items_as_json</div><div class="PSection PPlainSection"><span class="SHKeyword">return</span> <span class="SHKeyword">varchar2</span></div></div>
 <div class="CBody"><p>See <a href="../../index.html#SQLClass:ADC_RECURSION_STACK:get_firing_items_as_json" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,686);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >ADC_RECURSION_STACK.get_firing_items_as_json</a></p></div>
</div>

</body></html>